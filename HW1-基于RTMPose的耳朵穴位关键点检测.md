# HW1-基于RTMPose的耳朵穴位关键点检测

[TOC]

## 题目

**题目**：基于RTMPose的耳朵穴位关键点检测

**背景**：根据中医的“倒置胎儿”学说，耳朵的穴位反映了人体全身脏器的健康，耳穴按摩可以缓解失眠多梦、内分泌失调等疾病。耳朵面积较小，但穴位密集，涉及耳舟、耳轮、三角窝、耳甲艇、对耳轮等三维轮廓，普通人难以精准定位耳朵穴位。

**任务**

1. Labelme标注关键点检测数据集（子豪兄已经帮你完成了）
2. 划分训练集和测试集（子豪兄已经帮你完成了）
3. Labelme标注转MS COCO格式（子豪兄已经帮你完成了）
4. 使用MMDetection算法库，训练RTMDet耳朵目标检测算法，提交测试集评估指标
5. 使用MMPose算法库，训练RTMPose耳朵关键点检测算法，提交测试集评估指标
6. 用自己耳朵的图像预测，将预测结果发到群里
7. 用自己耳朵的视频预测，将预测结果发到群里
   需提交的测试集评估指标（不能低于baseline指标的50%）



## 结果

### 出门折戟

问题：教程里给的req依赖版本感觉有问题，一直报错：

```python
ERROR: Could not find a version that satisfies the requirement mmdet>=3.0.0rc6 (from versions: 0.6.0, 0.6.1, 0.6.2, 1.0rc2, 1.0rc3, 1.0rc4, 2.3.0, 2.4.0, 2.5.0, 2.6.0, 2.7.0, 2.8.0, 2.9.0, 2.10.0, 2.11.0, 2.12.0, 2.13.0, 2.14.0, 2.15.0, 2.15.1, 2.16.0, 2.17.0, 2.18.0, 2.18.1, 2.19.0, 2.19.1, 2.20.0, 2.21.0, 2.22.0, 2.23.0, 2.24.0, 2.24.1, 2.25.0, 2.25.1, 2.25.2, 2.25.3, 2.26.0, 2.27.0, 2.28.0, 2.28.1, 3.0.0rc0, 3.0.0rc1, 3.0.0rc2, 3.0.0rc3, 3.0.0rc4, 3.0.0rc5)
ERROR: No matching distribution found for mmdet>=3.0.0rc6
```

![image-20230604171526851](https://s2.loli.net/2023/06/04/FZTGIxqmvwVt5HS.png)

这个问题耗时一下午终于解决了，白花了我租GPU的**4**块多钱 T_T ,有同学可以猜到这是什么原因引起的吗？（非常细节，非常难发现!!!）

最后终于是train起来了：

![image-20230604174829768](https://s2.loli.net/2023/06/04/JEa5AVOYgmXZRGh.png)

### 耳朵目标检测-测试集评估指标

![image-20230604200030473](https://s2.loli.net/2023/06/04/6cZBx54gCH9pbf1.png)



### 再遇奇葩问题

感觉是要把能踩的坑都踩一遍才行.....

![image-20230604202103371](https://s2.loli.net/2023/06/04/uJWT4YF3yjq17vM.png)

可以说，正常遇到的问题有80%都是环境问题，这个也不例外。

好在最后也是train起来了

![image-20230604203025239](https://s2.loli.net/2023/06/04/HzpTufPki1FXVdE.png)

### 耳朵关键点检测-测试集评估指标





### 自己耳朵的图像预测

用自己的耳朵有点小尴尬，这里找了张网图来测试，效果也是很不错的：

![image-20230604201430292](https://s2.loli.net/2023/06/04/lvC57yz2K3SNM8G.png)





